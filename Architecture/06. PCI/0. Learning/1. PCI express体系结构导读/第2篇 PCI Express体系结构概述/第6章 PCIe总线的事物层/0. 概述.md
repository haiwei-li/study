
事务层是 PCle 总线层次结构的最高层, 该层次将接收 PCe 设备核心层的数据请求, 并将其转换为 PCIe 总线事务, PCe 总线使用的这些总线事务在 TLP 头中定义. PCle 总线继承了 PCI/PCI-X 总线的大多数总线事务, 如存储器读写, O 读写, 配置读写总线事务, 并增加了 Message 总线事务和原子操作等总线事务.

本节重点介绍与数据传送密切相关的总线事务, 如存储器, O, 配置读写总线事务在 PCe 总线中, Non-Posted 总线事务分两部分进行, 首先是发送端向接收端提交总线读写请求, 之后接收端再向发送端发送完成 (Completion) 报文. PCe 总线使用 Split 传送方式处理所有 Non-Posted 总线事务, 存储器读, I/0 读写和配置读写这些 Non-Posted 总线事务都使用 Split 传送方式. PCle 的事务层还支持流量控制和虚通路管理等一系列特性, 而 PCI 总线并不支持这些新的特性.

在 PCe 总线中, 不同的总线事务采用的路由方式不相同. PCe 总线继承了 PCI 总线的地址路由和 ID 路由方式, 并添加了 "隐式路由" 方式. PCle 总线使用的数据报文首先在事务层中形成, 这个数据报文也称为事务层数据报文即 TLP.TLP 在经过数据链路层时被加上 SequenceNumber 前缀和 CRC 后缀, 然后发向物理层.

数据链路层还可以产生 DLLP(DataLinkLayerPacket).DLLP 和 TLP 没有直接关系. DLLP 是产生于数据链路层, 终止于数据链路层, 并不会传递到事务层. DLLP 不是 TLP 加上前缀和后缀形成的. 数据链路层的报文 DLLP 通过物理层时, 需要经过 8/10b 编码, 然后再进行发送. 数据的接收过程是发送过程的逆过程, 但是在具体实现上, 接收过程与发送过程并不完全相同.