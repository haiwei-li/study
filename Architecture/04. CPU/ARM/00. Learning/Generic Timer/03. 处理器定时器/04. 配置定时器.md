
有两种方法可以配置定时器, 一种是使用比较器 (CVAL) 寄存器, 另一种是使用定时器 (TVAL) 寄存器.

比较器寄存器 CVAL 是一个 64 位寄存器. 软件将一个值写入该寄存器, 当计数值达到或超过该值时, 定时器就会触发, 如下所示:

```
Timer Condition Met: CVAL <= System Count
```

定时器寄存器 TVAL 是一个 32 位寄存器. 当软件写入 TVAL 时, 处理器会内部读取当前的系统计数值, 加上写入的值, 然后填充 CVAL:

```
CVAL = TVAL + System Counter
Timer Condition Met: CVAL <= System Count
```

你可以在软件中看到 CVAL 的填充过程. 如果你读取当前的系统计数值, 将 1000 写入 TVAL, 然后读取 CVAL, 你会看到 CVAL 大约是 1000 + 系统计数值. 计数值是近似的, 因为在指令序列执行期间时间会继续流逝.

重新读取 TVAL 会看到它递减到 0, 而系统计数值则在递增. TVAL 报告的是一个有符号值, 并且在定时器触发后会继续递减, 这使得软件能够确定定时器触发后经过了多长时间. TVAL 和 CVAL 为软件提供了使用定时器的两种不同模型. 如果软件需要在时钟的 X 个滴答后发生定时器事件, 软件可以将 X 写入 TVAL. 或者, 如果软件希望在系统计数值达到 Y 时发生事件, 软件可以将 Y 写入 CVAL.

请记住, TVAL 和 CVAL 是编程同一定时器的不同方式, 它们并不是两个不同的定时器.
