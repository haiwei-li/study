
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1. 中断和异常的相同点](#1-中断和异常的相同点)
- [2. 中断和异常在处理流程的区别](#2-中断和异常在处理流程的区别)

<!-- /code_chunk_output -->

# 1. 中断和异常的相同点

在 x86/x64 体系中, **中断**和**异常**使用**相同的执行环境和机制**, 包括:

1) 使用在**同一个 IDT**(Interrupt Descriptor Table)或 IVT(Interrupt Vector Table)

2) 在同一个**Vector 范围(0 \~ 255, 一个字节宽**)内

3) 在 Handling Interrupt(中断处理)**流程上是一致的**, 当然有些额外区别

# 2. 中断和异常在处理流程的区别

**中断**和**异常**事件可以是**主动发起**和**被动产生**的, 它们在处理流程中有**几个显著区别**.

1) 对于**硬件**产生的**可屏蔽中断**事件, 在 `ISR`(**中断服务例程**)处理完毕后必须**发送 EOI**(`End Of Interrupt`)命令通知 `Interrupt controller`(**中断控制器**)

2) 对于**某些异常**, **处理器**会产生相应的 `Error Code`(**错误码**), **Exception 处理程序**可以根据情况进行处理

3) **外部**和**内部**的**硬件中断请求**, 可以进行**mask(屏蔽**), 除了**NMI(不可屏蔽中断**)和一些**由处理器 pin 产生的中断事件**外(例如: **SMI**)

4) 对于**异常**是**不可屏蔽**的

本章中, 将分别使用 Interrupt(中断)和 Exception(异常)的术语, 除非特别说明, 否则将**互不适用**
