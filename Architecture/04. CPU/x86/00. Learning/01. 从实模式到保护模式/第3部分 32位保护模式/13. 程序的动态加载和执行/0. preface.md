所有的段在使用之前, 都必须以描述符的形式在描述符表中进行定义, 那么, 像操作系统这样的软件, 又怎么能够加载和执行其他各种用户程序呢?

计算机硬件之上是软件. 软件分两个层次, 一是操作系统, 二是应用(用户)程序. 通常, 用户程序只关心问题的解, 就是采用各种算法来解决实际问题. 至于软件是怎么加载到内存的, 怎么定位的, 不是它所操心的事. 但是, 它有义务提供一些必要的信息, 来帮助操作系统将自己加载到内存中.

相反, 操作系统则必须考虑采用什么方法来加载用户程序, 并在适当的时候将处理器的执行流转移到用户代码中去. 同时, 为了减轻用户程序的工作量, 操作系统还应当管理硬件, 并提供大量的例程供用户程序使用. 比如, 显示一个字符串, 就不要让用户自己来写代码了, 直接调用操作系统的代码即可. 但操作系统和用户程序应当协商一种机制, 让用户程序能够在使用这些例程时, 不必考虑和关心它们的位置.

- 本章代码清单: 13-1(主引导扇区程序), 源程序文件: c13_mbr.asm
- 本章代码清单: 13-2(微型内核), 源程序文件: c13_core.asm
- 本章代码清单: 13-3(被加载的用户程序), 源程序文件: c13.asm

```
第 13 章 程序的动态加载和执行	221
13.1 本章代码清单	222
13.2 内核的结构、功能和加载	222
    13.2.1 内核的结构	222
    13.2.2 内核的加载	223
    13.2.3 安装内核的段描述符	225
13.3 在内核中执行	229
13.4 用户程序的加载和重定位	230
    13.4.1 用户程序的结构	230
    13.4.2 计算用户程序占用的扇区数	232
    13.4.3 简单的动态内存分配	233
    13.4.4 段的重定位和描述符的创建	234
    13.4.5 重定位用户程序内的符号地址	238
13.5 执行用户程序	242
13.6 代码的编译、运行和调试
```