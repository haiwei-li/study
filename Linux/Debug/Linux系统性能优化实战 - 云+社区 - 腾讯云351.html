<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-ad870bb8-a47d-4e56-bb1a-7f1d5a83f84d"></attachment><h1>Linux系统性能优化实战</h1><p>文章来源: 企鹅号 - 架构师技术联盟</p><p><br></p><p><img src="https://ask.qcloudimg.com/http-save/developer-news/ixnij0y2yv.jpeg" height="324" width="553"></p><p>前两天公司双十一做大促活动, 半夜突然来了一大波流量, 你在睡梦中就收到了一大波报警短信, 仔细一看, 说是服务器CPU使用率过高. 你没敢半点马虎, 揉了揉眼睛, 带上眼镜, 打开电脑, 直接就登录到了<a href="https://cloud.tencent.com/developer/information/linux" target="_blank">linux</a>服务器. </p><p>登录成功之后, 你发现服务器确实有些慢, 就连输个命令都比平时慢了一拍. 简单输入Top命令之后, 你根据参数看到系统的CPU使用率奇高无比, 二话没说, 你赶紧按照CPU使用率排序找出CPU使用率最高的那个进程. <strong>从排序结果可以确定, 你昨天刚升级的服务CPU使用率居然高达700%</strong>, 根据直觉推断, 你觉得肯定是昨天升级的服务并发处理逻辑有问题. </p><p>但是这个应用的负载特别大, 业务逻辑也比较复杂, 你一时也不知道到底是哪块逻辑出的问题. 网络有人说, 可以使用GDB来调试应用程序, 可是gdb会把进程中断掉, 直接影响线上的业务. 也有人说可以使用perf工具来查, 你照猫画虎, 发现只是一些看起来像是<a href="https://cloud.tencent.com/developer/information/linux" target="_blank">linux</a>内核中的函数占用来比较多的CPU. 查了半天, 最终发现还是没能弄明白到底是哪里出现的问题, 留下的都是无奈和迷茫. </p><p>如果你对这样的场景感同身受, 那我觉得我们可以详细聊聊. 作为一个程序员, 说实话, 我觉得和Linux打交道, 在服务器上分析系统性能情况是我们每一个后端程序员都无法避开的事情. </p><p>有人认为, 这事是运维的工作范畴, 我对这话一点都不认同. <strong>一个优秀的程序员, 不应该在这事上给自己设边界</strong>, 更何况我们有的人还喜欢在Linux上做开发呢, 如果连这点事情都整不明白, 那我确信, 你肯定也搞不懂高并发、分布式等相关的知识, 因为这些内容都是一脉相承的. </p><p>一直以来, 我都在云计算领域工作. 对于服务器性能的关注, 可以追溯到我刚参加工作那会儿. 同样, 我也遇到过上面例子中的那个场景, 当时, 我同样是一头雾水, 两眼发懵, 甚至还被Leader痛批. </p><p>在经受了这样的挫折之后, 我知耻而后勇, 阅读了几本经典书籍, 学习了大量性能优化的思路和方法, 这期间尝试了大量的Linux性能工具. 在不断的实践和总结后, 我终于知道, 怎么把观察到的性能问题跟系统原理关联起来, 特别是把系统<strong>从应用程序、库函数、系统调用、再到内核和硬件等不同的层级贯穿起来</strong>. </p><p>为了让读者对性能有个全面的认识, 笔者精心绘制了<strong>一张性能调优思维导图</strong>, 里面涵盖了大部分性能分析和优化都会包含的知识. </p><p><img src="https://ask.qcloudimg.com/http-save/developer-news/1p8ibblr2y.jpeg" height="1219" width="700"></p><p>这张图知识点可谓全面. 但看完是否有点头大的感觉, 实际上要真正掌握这些知识点, 并能熟练应用涉及到的各个性能工具是很困难的. 为了让大家轻松上手, <strong>Linux性能优化实战</strong>专栏<strong>以案例驱动的思路</strong>, 讲解Linux性能的<strong>基本指标、工具, 以及相应的观测、分析和调优方法</strong>. </p><p><strong>倪朋飞, 微软Azure资深工程师</strong>. 主要负责开源容器编排系统Kubernetes在Azure的落地实践. 之前先后任职于盛大云和腾讯, 这十年来, 我一直在云计算领域工作, 主攻IaaS和容器技术, 所以自己也对Linux性能优化这套东西有一些自己的思考和沉淀. </p><p><img src="https://ask.qcloudimg.com/http-save/developer-news/1rpbyegnya.jpeg" height="2844" width="700"></p><p>1、掌握Linux必备的基本原理以及Linux系统必懂的性能指标(CPU、磁盘 I/O、内存以及网络)和性能工具. </p><p>2、结合实际案例分析, 让你在遇到资源瓶颈时不再束手无策, 学会观测和准确定位、快速分析并高效优化, 具备高手解决性能优化问题的思路和全局观. </p><p>3、5个综合实战模块还原真实的工作场景, 结合开源项目、框架或者系统设计的案例, 手把手带你在"高级战场"演练, 目的是让你把之前学到的所有知识融会贯通, 马上能将所学应用在工作当中. </p><p>4、针对订阅用户会设置答疑篇章, 我相信在学习完每一个模块之后, 你都会有很多的问题, 在这里, 我会拿出提问频次较高的问题一对一给你系统解答. </p><p><img src="https://ask.qcloudimg.com/http-save/developer-news/t2p7ixtg2n.jpeg" height="276" width="700"></p><p>关于订阅, <strong>识别上图</strong>即可试读或订阅专栏. 另外, 本专栏<strong>限时优惠价¥68</strong>(<strong>原价¥99, 于12月1日恢复原价</strong>). 邀请好友通过你的分享海报订阅, 你可获得18元现金返现, 同时你的好友还会获得6元的返现. </p><p><strong>温馨提示: </strong></p><p><strong>求知若渴, 虚心若愚</strong></p><ul><li>发表于:  2018-11-192018-11-19 16:50:55</li><li>原文链接: https://kuaibao.qq.com/s/20181119A195GE00?refer=cp_1026</li></ul><p><a href="about:blank" target="_blank">1元腾讯云服务器android性能优化ccna linuxcpu 使用率过高怎么办cpu占用过高怎么解决</a></p><p><a href="about:blank" target="_blank">0</a></p><p>分享</p><ul><li><img src="data:image/png;base64,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" alt="Scan me!"></li><li>分享快讯到朋友圈</li><li>分享快讯到 QQ</li><li>分享快讯到微博</li><li>复制快讯链接到剪贴板</li></ul><p>扫描二维码</p><p><img src="//:0"></p><p>扫码关注云+社区</p><ul><li><a href="about:blank" target="_blank">上一篇: 遂宁云受到遂宁市经信委高度重视, 前来实地调研</a></li><li><a href="about:blank" target="_blank">下一篇: 弘泰水利受邀参加2018浙江省水利学术年会并上台领奖</a></li></ul><h2>同媒体快讯</h2><p><br></p><h3><a href="about:blank" target="_blank">云计算网络时代, 必须掌握的网络基本功</a></h3><ul><li>2019-03-11</li></ul><h3><a href="about:blank" target="_blank">负载均衡技术和知识全面解析</a></h3><ul><li>2019-03-11</li></ul><h3><a href="about:blank" target="_blank">如何利用Alluxio实现数据湖方案</a></h3><ul><li>2019-03-11</li></ul><h3><a href="about:blank" target="_blank">一文读懂高性能网络编程中的I/O模型</a></h3><ul><li>2019-03-11</li></ul><h3><a href="about:blank" target="_blank">一文详解分布式系统数据分片难题</a></h3><ul><li>2019-03-11</li></ul><h3><a href="about:blank" target="_blank">OpenStack技术和实战详解</a></h3><ul><li>2019-03-11</li></ul><h2>相关快讯</h2><p><br></p><h3><a href="about:blank" target="_blank">Ruby vs Golang: 四个维度对比, 到底谁更胜一筹?</a></h3><ul><li>2018-08-17</li></ul><h3><a href="about:blank" target="_blank">2018最有发展前景的编程语言还是java！记住不是python！</a></h3><ul><li>2018-03-30</li></ul><h3><a href="about:blank" target="_blank">每个后端程序员都该懂的事</a></h3><ul><li>2019-03-11</li></ul><h3><a href="about:blank" target="_blank">为什么你的数据分析那么好, 图表做得那么烂?</a></h3><ul><li>2019-03-11</li></ul><h3><a href="about:blank" target="_blank">编程大师成长日记: 您所不知道的Google和GO语言, 小科普下</a></h3><ul><li>2019-03-11</li></ul><h3><a href="about:blank" target="_blank">PHP程序员如有三个等级, 你是哪一级?</a></h3><ul><li>2019-03-11</li></ul><p><br></p>