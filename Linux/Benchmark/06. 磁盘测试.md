
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1. 磁盘 I/O 性能测试工具](#1-磁盘-io-性能测试工具)
- [2. DD](#2-dd)
- [3. fio](#3-fio)
- [4. Bonnie++](#4-bonnie)
- [5. hdparm](#5-hdparm)

<!-- /code_chunk_output -->

# 1. 磁盘 I/O 性能测试工具

在一个计算机系统中, CPU 获取**自身缓存数据**的速度非常快, 读写内存的速度也比较快, 内部局域网速度也比较快(特别是使用万兆以太网), 但是磁盘 I/O 的速度是相对比较慢的.

测试磁盘 I/O 性能的工具有很多, 如 DD、`Bonnie++`、fio、iometer、hdparm 等. 下面简单介绍其中几个工具.

# 2. DD

DD(命令为 dd)是 Linux 系统上一个非常流行的**文件复制工具**, 在复制文件的同时可以根据其具体选项进行转换和格式化等操作.

通过 DD 工具复制同一个文件(相同数据量)所需要的时间长短即可粗略评估磁盘 I/O 的性能.

一般的 Linux 系统中都自带这个工具, 用 man dd 命令即可查看 DD 工具的使用手册.

# 3. fio

fio 是一个被广泛使用的进行**磁盘性能及压力测试的工具**. 它功能强大而灵活, 可以用它定义(模拟)出**各种工作负载(workload**), 模拟**真实使用场景**, 以更准确地衡量磁盘的性能.

除了测试磁盘**读写的带宽**以外, 它还统计**IOPS**并且以**不同的延迟时间**分布表示;

除了**总的延迟时间**, 它还分别统计**I/O 递交的时间延迟**和**I/O 完成的时间延迟**.

fio 的主页是: http://git.kernel.dk/?p=fio.git;a=summary . 它可以运行在 Linux、UNIX、Windows 等多个操作系统平台上, 多数 Linux 发行版也包含它的安装包.

# 4. Bonnie++

`Bonnie++` 是以 Bonnie 的代码为基础编写而成的软件, 它使用一系列对硬盘驱动器和文件系统的简单测试来衡量其性能.

`Bonnie++` 可以模拟像数据库那样去访问一个单一的大文件, 也可以模拟像 Squid 那样创建、读取和删除许许多多的小文件.

它可以实现有序地读写一个文件, 也可以随机地查找一个文件中的某个部分, 而且支持按字符方式和按块方式读写.

# 5. hdparm

hdparm 是一个用于**获取和设置 SATA 和 IDE 设备参数**的工具, 在 RHEL 7.3 中可以用 yum install hdparm 命令来安装 hdparm 工具.

hdparm 也可以**粗略地测试磁盘的 I/O 性能**, 通过如下的命令即可粗略评估 sdb 这个磁盘的**读性能**.

```
hdparm -tT /dev/sdb
```
