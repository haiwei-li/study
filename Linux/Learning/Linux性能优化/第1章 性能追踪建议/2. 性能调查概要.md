
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1. 找到指标、基线和目标](#1-找到指标-基线和目标)
  - [1.1. 确定指标](#11-确定指标)
  - [1.2. 确定基线](#12-确定基线)
  - [1.3. 确定目标](#13-确定目标)
- [2. 追踪相似问题](#2-追踪相似问题)
- [3. 查看问题是否早已解决](#3-查看问题是否早已解决)
- [4. 项目开始(启动调查)](#4-项目开始启动调查)
- [5. 记录, 记录, 记录](#5-记录-记录-记录)

<!-- /code_chunk_output -->

本节列出了开始性能调查时的几个重要步骤.

遵循如下特定步骤是解决问题的有效方法, 并且不会浪费宝贵的时间.

# 1. 找到指标、基线和目标

性能调查的第一步就是确定**当前的性能**, 并明确其**应提升的程度**.

明确性能峰值有助于你设置合理的性能期望值, 并能给你一个性能目标, 这样你就知道何时应该停止优化.

## 1.1. 确定指标

要想知道**什么时候结束优化**, 必须**为系统确立**或是**使用已发布的指标**.

指标是一种**客观的度量**, 用于**指示系统的执行情况！！！**.

例如, 如果你要优化一个 Web 服务器, 你就可以选择"**每秒服务的 Web 请求数！！！**".

## 1.2. 确定基线

确定**当前的性能等级**就很重要.

在**调整和优化之前**, 运行**应用程序**并记录其**性能**, 这就是**基线值**, 它是性能调查的起点.

## 1.3. 确定目标

在你确定了性能指标和基线后, 现在需要确定一个目标, 这个目标引导你完成性能追踪.

要**选择合理的目标**, 下面是一些好的起点:

* 寻找其他有相同配置的人, 询问他们的性能指标

如果其他人有相似系统和更好性能, 可以对比配置的不同来排查自己的

* 查找工业标准测试程序的结果

从网上或其他途径查找基准的测试结果.

很多基准测试网站给出了**特定结果使用的配置**, 这些配置信息可以为你调整系统**提供线索**.

>抓住低处的果实
>
>性能追踪的**另一种方法**是选择在**特定时间段**内进行追踪, 而**不是选择一个目标**. 如果你要在有限的时间内优化一个应用程序, 你可能会试着**修复那些最简单明显的问题**(低处的果实), 而不是做一些更困难的、根本性的变化.

# 2. 追踪相似问题

使用**性能工具**为确定问题原因打开第一个口子. 通过初始的粗略尝试, 你能对问题形成大致的看法.

记录下过程, 也能解释为什么追踪到是这个问题.

# 3. 查看问题是否早已解决

下述这些地方也能寻求性能建议:

* 在 Web 上查找相似的错误信息/问题

* 在应用程序邮件列表上求助

* 向开发人员发邮件

* 与产品内部开发人员交谈

# 4. 项目开始(启动调查)

现在你已经详细了解了别人解决问题的可能性, 接下来必须开始**性能调查**了.

后续章节将详细介绍工具和方法, 但是现在还有一些提示能让你的工作效果更好:

* 分离问题

如果可能的话, 删去任何运行于被调查系统的多余的程序或应用. 运行许多不同应用程序的系统, 其负载较重, 会影响性能工具收集信息的准确性, 并最终将你引导到错误的方向.

* 利用系统差异发现原因

如果你能发现一个相似的系统具有更好的性能, 那么这对问题调试将是一个有力的帮助. 使用性能工具的问题之一就是, 你不一定有好的方法知道性能工具的结果是否指明了问题. 如果你有一个好的系统和一个差的系统, 你就可以在这两个系统上运行同样的性能工具, 并比较它们的结果. 如果结果不同, 就可以通过找出系统差异来确定问题的原因.

* 一次只改变一件事

这点非常重要. 要真正确定问题出在哪儿, 一次只能有一个变化. 这可能会很花时间, 并让你运行多个不同的测试, 但它的确是发现你是否解决了问题的唯一途径.

* 始终在优化后重新测量

如果你稍稍调整了系统, 那么在调整后对所有的事情重新进行测量是很重要的. 当你开始修改系统配置时, 所有之前生成的性能信息可能不再有效. 通常, 在你解决一个性能问题时, 别的问题会随之而来. 新问题可能与老问题有着极大的不同, 因此, 你真的需要重新运行性能工具来确保正在调查的问题没有出错.

遵循这些建议能帮助你避免误导, 并有助于确定性能问题的原因.

# 5. 记录, 记录, 记录

如前所述, 记录大量新增的笔记和 URL.
