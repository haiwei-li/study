
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1. 自动执行和记录命令](#1-自动执行和记录命令)
- [2. 性能统计信息的绘图与分析](#2-性能统计信息的绘图与分析)
- [3. 调查应用程序使用的库](#3-调查应用程序使用的库)
- [4. 创建和调试应用程序](#4-创建和调试应用程序)

<!-- /code_chunk_output -->

性能工具与其他 Linux 工具结合起来就能够显著提升其有效性和易用性.

# 1. 自动执行和记录命令

如同前面章节所述, **性能调查**中**最有价值的步骤**之一就是保存在**调查过程**中发出的**命令**和产生的**结果**. 之后可以来回顾.

Linux 提供了**两个命令**: **tee**和**script**,

* 前者能将**工具的输出**保存为**文件**,
* 后者能记录**每一个按键**和屏幕上的**每一个输出**.

这些信息可以保存下来, 便于之后**查看**或者**创建脚本来自动执行测试**.

之后, **bash shell**和**watch 命令**都可以让你**周期性**地**自动执行**这些命令, 不需要再次键入.

# 2. 性能统计信息的绘图与分析

Linux 提供的**gnumeric 电子表格**很强大, 它可以对**性能数据**进行**导入**、**分析**和**绘图**.

# 3. 调查应用程序使用的库

**ldd 命令**给出一个**特定应用程序**使用的**全部共享库的列表**.

命令 objdump 可以在**指定库**或**应用程序**中搜索并显示**其提供的全部函数**.

ltrace**只能**给出**一个应用程序调用函数的名称**, 但是**结合命令 ldd 和 objdump**, 你就能够利用 ltrace 的输出来**确定指定函数属于哪个库**.

# 4. 创建和调试应用程序

**GNU 编译器集(gcc**)可以在**应用程序**中**插入调试信息**, 以帮助 oprofile 找出某个具体性能问题对应的**代码行**和**源文件**.

此外, GNU 调试器(gdb)还可以用来查找被各种性能工具默认不可得的应用程序的**运行时信息**.
