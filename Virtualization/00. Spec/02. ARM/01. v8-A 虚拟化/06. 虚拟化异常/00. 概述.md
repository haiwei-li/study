
在系统中中断被硬件用于发送事件给软件. 比如, GPU 可能发送中断通知它完成了渲染帧.

使用虚拟化的系统更复杂. 一些中断可能由 hypervisor 自己处理. 其他中断可能来自分配给 VM 的设备, 并且需要由 VM 中的软件来处理. 中断目标的 VM 也可能在中断被接受时没有运行.

这意味着你需要机制来支持 hypervisor 来处理 EL2 中的一些中断的处理. 同时也需要机制在 VM 中将一些中断发给某些 VM 或某些 VCPU.

为了使能这些机制, 架构支持一些**虚拟中断**: **vIRQ**, **vFIQ** 和 **vSErrors**. 这些虚拟中断行为像物理中断 (IRQ, FIQ 和 SErrors), 但仅执行在 **EL0** 和 **EL1** 被触发. 当执行在 **EL2** 或 **EL3** 时**不能接受虚拟中断**.

注意: 回顾一下, 在 `ARMv8.4-A` 中引入了对安全状态(Secure State)的虚拟化支持. 要使**虚拟中断**在 **Secure EL0/1** 中**被触发**, 必须支持并启用 **Secure EL2**. 否则, 虚拟中断不会在安全状态下被触发.
