
问: type1 hypervisor 和 type2  hypervisor 有什么区别?

答: type2 hypervisor 运行在主机操作系统之上, 而 type1 hypervisor 没有主机操作系统.

问: 安全状态和非安全状态分别有多少个中间物理地址 (IPA) 空间?

答: 安全状态有两个 IPA 空间: 安全空间和非安全空间.
非安全状态有一个 IPA 空间.

问: 虚拟中断可以在哪些异常级别被处理?

答: 只有在 EL0 或 EL1 级别执行时, 且只有在通过设置 HCR_EL2 中相应的路由位启用后, 才能处理虚拟中断.

问: 什么是系统内存管理单元(SMMU)? 如何在虚拟化中使用 SMMU?

答: SMMU 即系统内存管理单元, 它为非处理器主设备提供地址转换服务. 在虚拟化中, SMMU 可用于让主设备 (例如直接内存访问(DMA) 控制器)拥有与它所分配到的虚拟机相同的内存视图.

问: HCR_EL2.E2H 位如何影响在 EL2 级别执行 "MSR TTBRO_EL1, x0" 指令?

答: 当 E2H == 0 时, 该指令会写入 TTBR0_EL1. 当 E2H == 1 时, 写入操作会被重定向到 TTBR0_EL2.

问: 什么是虚拟机标识符(VMID), 它有什么用途?

答: VMID 是虚拟机标识符. 它用于标记虚拟机的转换后备缓冲区 (TLB) 条目, 这样多个虚拟机的 TLB 条目就可以同时存在于 TLB 中.

问: 什么是陷阱, 它在虚拟化中如何使用?

答: 陷阱会使原本合法的操作触发异常, 将该操作捕获到具有更高特权的软件中处理. 在虚拟化中, 陷阱允许 hypervisor 检测某些操作何时被执行, 并模拟这些操作.
