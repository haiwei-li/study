
> End of interrupt

当中断处理完成后, 软件必须通知**中断控制器**该中断已被处理, 以便状态机可以转换到**下一个状态**. GICv3 架构将此视为两个任务:

- **优先级降低**(Priority drop): 即将**运行优先级**(Running priority)降低回**处理中断之前的值**.

- **停用**(Deactivation): 即**更新**当前**正在处理的中断**的**中断状态机**. 通常, 这将是从**活动状态**(Active)转换到**非活动状态**(Inactive).

在 GICv3 架构中, **优先级降低**和**停用**可以**同时发生**, 也可以**分别发生**, 这取决于 `ICC_CTLR_ELn.EOImode` 的设置.

- `EOImode = 0`: 向 `ICC_EOIR0_EL1` 写入 **Group 0 中断**, 或向 `ICC_EOIR1_EL1` 写入 **Group 1 中断**, 将**同时执行 优先级降低 和 停用** 操作. 这是**简单裸机环境**中通常使用的模式.

- `EOImode = 1`: 向 `ICC_EOIR0_EL1` 写入 **Group 0 中断**, 或向 `ICC_EOIR1_EL1` 写入 **Group 1 中断**, 只会导致**优先级降低**. 需要单独向 `ICC_DIR_EL1` 写入来执行**停用**操作. 这种模式通常用于**虚拟化**目的.

在写入这些寄存器时, 软件必须写入 **INTID**.
