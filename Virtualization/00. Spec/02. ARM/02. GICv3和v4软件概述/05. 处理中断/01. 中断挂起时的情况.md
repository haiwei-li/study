
3.2 节描述了当中断源被触发时, 中断如何从**非活动状态**(inactive)转变为**挂起状态**(pending), 这通常是由于**外设触发了专用中断信号**.

当中断变为**挂起状态**时, **中断控制器**会决定**是否**将该中断发送到某个连接的 **PE**. 如果进行选择, 那么所选的 PE 取决于以下设置:

- **组启用**(`Group enables`): 3.4 节介绍了 **INTID** 是如何被分配到**一个组** (**组 0**, **安全组 1** 或 **非安全组 1**) 的. 对于**每个组**, **分发器**和 **CPU 接口**中都有一个 **group bit**. 属于**禁用组**(`disabled Group`)的中断不能被发送到 PE.

- **中断启用**(`Interrupt enables`): **单独禁用的中断**可以变为**挂起状态**, 但**不会被转发**到 PE.

- **路由控制**(`Routing controls`): 根据中断类型的不同, **中断控制器**必须决定**哪些 PE** 可以接收该中断.

    - 对于 **SPI**, 这由 `GICD_IROUTERn` 控制. **SPI** 可以针对**一个特定的 PE**, 也可以针对**任何一个连接的 PE**.

    - 对于 **LPI**, 如果实现了 **ITS**(`Interrupt Translation Service`, **中断转换服务**), 则**路由信息**来自 **ITS**(见 6.1 节).

    - **PPI** 是**特定于一个 PE** 的, 只能由该 **PE** 处理.

    - 对于 **SGI**, **发起**的 PE 定义了**目标 PE 列表**, 第 7 章将进一步介绍.

- **中断优先级和优先级掩码**(`Interrupt priority & priority mask`): 每个 PE 在其 **CPU 接口**中都有一个**优先级掩码寄存器**(`ICC_PMR_EL1`). 该寄存器设置了中断被转发到该 PE 所需的**最低优先级**. 只有优先级高于寄存器中值的中断才会被发送到 PE.

- **运行优先级**(`Running priority`): 5.4 节介绍了运行优先级以及它对抢占的影响. 如果 PE 当前没有处理中断, 运行优先级就是**空闲优先级**(0xFF). 只有优先级高于运行优先级的中断才能**抢占**当前正在处理的中断.
